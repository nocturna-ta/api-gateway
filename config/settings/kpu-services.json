{
  "auth": {
    "security_address": "localhost:35000",
    "log_request_on_error": true
  },
  "base_path": "/api",
  "endpoints": [
    {
      "path": "/v1/kpu-provinsi",
      "method": "GET",
      "host": "http://localhost:8900",
      "destination": "/v1/kpu-provinsi",
      "auth": {
        "target_service": "kpu-provinsi-service",
        "required_roles": "kpu_provinsi,kpu_pusat"
      },
      "extra_config": {
        "qos/ratelimit/router": {
          "max_rate": 100,
          "client_max_rate": 10,
          "strategy": "ip"
        }
      },
      "backend_extra_config": {
        "qos/circuit-breaker": {
          "interval": 60,
          "timeout": 10,
          "max_errors": 1
        }
      }
    },
    {
      "path": "/v1/kpu-provinsi/{id}",
      "method": "GET",
      "host": "http://localhost:8900",
      "destination": "/v1/kpu-provinsi/{id}",
      "auth": {
        "target_service": "kpu-provinsi-service"
      }
    },
    {
      "path": "/v1/kpu-provinsi/address",
      "method": "GET",
      "host": "http://localhost:8900",
      "destination": "/v1/kpu-provinsi/address",
      "auth": {
        "target_service": "kpu-provinsi-service",
        "required_roles": "kpu_provinsi"
      }
    },
    {
      "path": "/v1/kpu-provinsi/{id}/photo",
      "method": "GET",
      "host": "http://localhost:8900",
      "destination": "/v1/kpu-provinsi/{id}/photo",
      "auth": {
        "target_service": "kpu-provinsi-service"
      }
    },
    {
      "path": "/v1/kpu-provinsi/{id}/photo",
      "method": "POST",
      "host": "http://localhost:8900",
      "destination": "/v1/kpu-provinsi/{id}/photo",
      "auth": {
        "target_service": "kpu-provinsi-service",
        "required_roles": "kpu_provinsi"
      }
    },
    {
      "path": "/v1/kpu-provinsi/register",
      "method": "POST",
      "host": "http://localhost:8900",
      "destination": "/v1/kpu-provinsi/register",
      "auth": {
        "target_service": "kpu-provinsi-service",
        "required_roles": "kpu_pusat"
      }
    },
    {
      "path": "/v1/kpu-kota",
      "method": "GET",
      "host": "http://localhost:8900",
      "destination": "/v1/kpu-kota",
      "auth": {
        "target_service": "kpu-kota-service",
        "required_roles": "kpu_kota,kpu_provinsi,kpu_pusat"
      },
      "backend_extra_config": {
        "qos/circuit-breaker": {
          "interval": 60,
          "timeout": 10,
          "max_errors": 1
        }
      }
    },
    {
      "path": "/v1/kpu-kota/address",
      "method": "GET",
      "host": "http://localhost:8900",
      "destination": "/v1/kpu-kota/address",
      "auth": {
        "target_service": "kpu-kota-service",
        "required_roles": "kpu_kota"
      }
    },
    {
      "path": "/v1/kpu-kota/register",
      "method": "POST",
      "host": "http://localhost:8900",
      "destination": "/v1/kpu-kota/register",
      "auth": {
        "target_service": "kpu-kota-service",
        "required_roles": "kpu_provinsi"
      }
    }
  ]
}